import{a as _,t as O,c as G}from"../chunks/disclose-version.CxD5EUo8.js";import{F as N,I as F,O as R,n as Z,Y as L,G as M,Q as W,p as V,Z as j,j as X,w as E,k as Y,c as A,l as Q,E as C,m as K,r as tt}from"../chunks/index-client.B4cum82c.js";import{s as et,i as U,a as rt}from"../chunks/preload-helper.CLFeLDyC.js";import{p as P}from"../chunks/proxy.CmA2dId2.js";import{c as D,C as at}from"../chunks/reown.ypgvqcjJ.js";import{d as st}from"../chunks/index.zt8tsUMA.js";import"../chunks/legacy.DIJ0u-NW.js";function it(t,a,...e){var o=t,s=Z,r;N(()=>{s!==(s=a())&&(r&&(L(r),r=null),r=R(()=>s(o,...e)))},F),M&&(o=W)}const nt=!0,ot=!1,le=Object.freeze(Object.defineProperty({__proto__:null,prerender:nt,ssr:ot},Symbol.toStringTag,{value:"Module"}));var c=class extends Error{constructor(t,a,e){super(t),this.statusCode=a,this.details=e,this.name="PinataError"}},f=class extends c{constructor(t,a,e){super(t,a,e),this.name="NetworkError"}},y=class extends c{constructor(t,a,e){super(t,a,e),this.name="AuthenticationError"}},g=class extends c{constructor(t,a){super(t,void 0,a),this.name="ValidationError"}},ut=async t=>{if(!t)throw new g("Pinata configuration is missing");let a,e="https://api.pinata.cloud";t.endpointUrl&&(e=t.endpointUrl),t.customHeaders&&Object.keys(t.customHeaders).length>0?a={Authorization:`Bearer ${t.pinataJwt}`,...t.customHeaders}:a={Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/testAuthentication"};try{const o=await fetch(`${e}/data/testAuthentication`,{method:"GET",headers:a});if(!o.ok){const r=await o.text();throw o.status===401||o.status===403?new y(`Authentication failed: ${r}`,o.status,r):new f(`HTTP error: ${r}`,o.status,r)}return await o.json()}catch(o){throw o instanceof c?o:o instanceof Error?new c(`Error processing authentication: ${o.message}`):new c("An unknown error occurred while testing authentication")}};function ct(t){const a=t.match(/\/files\/([^\/]+)/);if(a&&a[1])return a[1];throw new f("File ID not found in URL",400,t)}var ht=async(t,a,e)=>{if(!t)throw new g("Pinata configuration is missing");const o=e?.keys||t.pinataJwt;let s="https://uploads.pinata.cloud/v3";if(t.uploadUrl&&(s=t.uploadUrl),a.size>94371840){let n;t.customHeaders&&Object.keys(t.customHeaders).length>0?n={Authorization:`Bearer ${o}`,...t.customHeaders}:n={Authorization:`Bearer ${o}`,Source:"sdk/file"};const u=e?.metadata?.name||a.name||"File from SDK";let w=`filename ${btoa(u)},filetype ${btoa(a.type)}`;e?.groupId&&w+`,group_id ${btoa(e.groupId)}`,e?.metadata?.keyvalues&&w+`,keyvalues ${btoa(JSON.stringify(e.metadata.keyvalues))}`;let h=`${s}/files`;e?.url&&(h=e.url);const m=await fetch(h,{method:"POST",headers:{"Upload-Length":`${a.size}`,"Upload-Metadata":w,...n}}),l=m.headers.get("Location");if(!l)throw new f("Upload URL not provided",m.status,"");const d=50*1024*1024,k=Math.ceil(a.size/d);let p=0,$;for(let v=0;v<k;v++){const T=a.slice(p,p+d);if($=await fetch(l,{method:"PATCH",headers:{"Content-Type":"application/offset+octet-stream","Upload-Offset":p.toString(),...n},body:T}),!$.ok){const S=await $.text();throw new f(`HTTP error during chunk upload: ${S}`,$.status,S)}p+=T.size}if($.status===204){const v=ct(l);let T;t.endpointUrl?T=t.endpointUrl:T="https://api.pinata.cloud/v3";const H=(await(await fetch(`${T}/files/${v}`,{method:"GET",headers:{Authorization:`Bearer ${o}`}})).json()).data;if(e?.vectorize){const q=await fetch(`${s}/vectorize/files/${H.id}`,{method:"POST",headers:{Authorization:`Bearer ${o}`}});if(q.ok)return H.vectorized=!0,H;{const J=await q.text();throw new f(`HTTP error during vectorization: ${J}`,q.status,J)}}return H}}let r;t.customHeaders&&Object.keys(t.customHeaders).length>0?r={Authorization:`Bearer ${o}`,...t.customHeaders}:r={Authorization:`Bearer ${o}`,Source:"sdk/file"};const i=new FormData;if(i.append("file",a,a.name),e?.url)try{const n=await fetch(e.url,{method:"POST",headers:r,body:i});if(!n.ok){const h=await n.text();throw n.status===401||n.status===403?new y(`Authentication failed: ${h}`,n.status,h):new f(`HTTP error: ${h}`,n.status,h)}return(await n.json()).data}catch(n){throw n instanceof c?n:n instanceof Error?new c(`Error processing base64: ${n.message}`):new c("An unknown error occurred while trying to upload base64")}i.append("name",e?.metadata?.name||a.name||"File from SDK"),e?.groupId&&i.append("group_id",e.groupId),e?.metadata?.keyvalues&&i.append("keyvalues",JSON.stringify(e.metadata.keyvalues));try{const n=await fetch(`${s}/files`,{method:"POST",headers:r,body:i});if(!n.ok){const h=await n.text();throw n.status===401||n.status===403?new y(`Authentication failed: ${h}`,n.status,h):new f(`HTTP error: ${h}`,n.status,h)}const w=(await n.json()).data;if(e?.vectorize){const h=await fetch(`${s}/vectorize/files/${w.id}`,{method:"POST",headers:{Authorization:`Bearer ${o}`}});if(h.ok)return w.vectorized=!0,w;{const m=await h.text();throw new f(`HTTP error during vectorization: ${m}`,h.status,m)}}return w}catch(n){throw n instanceof c?n:n instanceof Error?new c(`Error uploading file: ${n.message}`):new c("An unknown error occurred while uploading the file")}},dt=async(t,a,e)=>{if(!t)throw new g("Pinata configuration is missing");const o=e?.keys||t?.pinataJwt,s=e?.metadata?.name?e?.metadata?.name:"base64 string",r=Buffer.from(a,"base64"),i=new Blob([r]),n=new FormData;n.append("file",i,s),n.append("name",s),e?.groupId&&n.append("group_id",e.groupId),e?.metadata?.keyvalues&&n.append("keyvalues",JSON.stringify(e.metadata.keyvalues));let u;t.customHeaders&&Object.keys(t.customHeaders).length>0?u={Authorization:`Bearer ${o}`,...t.customHeaders}:u={Authorization:`Bearer ${o}`,Source:"sdk/base64"};let w="https://uploads.pinata.cloud/v3";if(t.uploadUrl&&(w=t.uploadUrl),e?.url)try{const h=await fetch(e.url,{method:"POST",body:n});if(!h.ok){const d=await h.text();throw h.status===401||h.status===403?new y(`Authentication failed: ${d}`,h.status,d):new f(`HTTP error: ${d}`,h.status,d)}return(await h.json()).data}catch(h){throw h instanceof c?h:h instanceof Error?new c(`Error processing base64: ${h.message}`):new c("An unknown error occurred while trying to upload base64")}try{const h=await fetch(`${w}/files`,{method:"POST",headers:u,body:n});if(!h.ok){const d=await h.text();throw h.status===401||h.status===403?new y(`Authentication failed: ${d}`,h.status,d):new f(`HTTP error: ${d}`,h.status,d)}const l=(await h.json()).data;if(e?.vectorize){const d=await fetch(`${w}/vectorize/files/${l.id}`,{method:"POST",headers:{Authorization:`Bearer ${o}`}});if(d.ok)return l.vectorized=!0,l;{const k=await d.text();throw new f(`HTTP error during vectorization: ${k}`,d.status,k)}}return l}catch(h){throw h instanceof c?h:h instanceof Error?new c(`Error processing base64: ${h.message}`):new c("An unknown error occurred while trying to upload base64")}},lt=async(t,a,e)=>{if(!t)throw new g("Pinata configuration is missing");const o=e?.keys||t?.pinataJwt,s=new FormData,r=await fetch(a);if(!r.ok){const l=await r.text();throw new f(`HTTP error: ${l}`,r.status,l)}const i=await r.arrayBuffer(),n=new Blob([i]),u=e?.metadata?.name??"url_upload",w=new File([n],u);s.append("file",w,u),s.append("name",u),e?.groupId&&s.append("group_id",e.groupId),e?.metadata?.keyvalues&&s.append("keyvalues",JSON.stringify(e.metadata.keyvalues));let h;t.customHeaders&&Object.keys(t.customHeaders).length>0?h={Authorization:`Bearer ${o}`,...t.customHeaders}:h={Authorization:`Bearer ${o}`,Source:"sdk/url"};let m="https://uploads.pinata.cloud/v3";if(t.uploadUrl&&(m=t.uploadUrl),e?.url)try{const l=await fetch(e.url,{method:"POST",body:s});if(!l.ok){const p=await l.text();throw l.status===401||l.status===403?new y(`Authentication failed: ${p}`,l.status,p):new f(`HTTP error: ${p}`,l.status,p)}return(await l.json()).data}catch(l){throw l instanceof c?l:l instanceof Error?new c(`Error processing base64: ${l.message}`):new c("An unknown error occurred while trying to upload base64")}try{const l=await fetch(`${m}/files`,{method:"POST",headers:h,body:s});if(!l.ok){const p=await l.text();throw l.status===401||l.status===403?new y(`Authentication failed: ${p}`,l.status,p):new f(`HTTP error: ${p}`,l.status,p)}const k=(await l.json()).data;if(e?.vectorize){const p=await fetch(`${m}/vectorize/files/${k.id}`,{method:"POST",headers:{Authorization:`Bearer ${o}`}});if(p.ok)return k.vectorized=!0,k;{const $=await p.text();throw new f(`HTTP error during vectorization: ${$}`,p.status,$)}}return k}catch(l){throw l instanceof c?l:l instanceof Error?new c(`Error processing url: ${l.message}`):new c("An unknown error occurred while uploading by url")}},wt=async(t,a,e)=>{if(!t)throw new g("Pinata configuration is missing");const o=e?.keys||t?.pinataJwt,s=JSON.stringify(a),r=new Blob([s]),i=new File([r],"data.json",{type:"application/json"}),n=new FormData;n.append("file",i,i.name),n.append("name",e?.metadata?.name||i.name||"File from SDK"),e?.groupId&&n.append("group_id",e.groupId),e?.metadata?.keyvalues&&n.append("keyvalues",JSON.stringify(e.metadata.keyvalues));let u;t.customHeaders&&Object.keys(t.customHeaders).length>0?u={Authorization:`Bearer ${o}`,...t.customHeaders}:u={Authorization:`Bearer ${o}`,Source:"sdk/json"};let w="https://uploads.pinata.cloud/v3";if(t.uploadUrl&&(w=t.uploadUrl),e?.url)try{const h=await fetch(e.url,{method:"POST",body:n});if(!h.ok){const d=await h.text();throw h.status===401||h.status===403?new y(`Authentication failed: ${d}`,h.status,d):new f(`HTTP error: ${d}`,h.status,d)}return(await h.json()).data}catch(h){throw h instanceof c?h:h instanceof Error?new c(`Error processing base64: ${h.message}`):new c("An unknown error occurred while trying to upload base64")}try{const h=await fetch(`${w}/files`,{method:"POST",headers:u,body:n});if(!h.ok){const d=await h.text();throw h.status===401||h.status===403?new y(`Authentication failed: ${d}`,h.status,d):new f(`HTTP error: ${d}`,h.status,d)}const l=(await h.json()).data;if(e?.vectorize){const d=await fetch(`${w}/vectorize/files/${l.id}`,{method:"POST",headers:{Authorization:`Bearer ${o}`}});if(d.ok)return l.vectorized=!0,l;{const k=await d.text();throw new f(`HTTP error during vectorization: ${k}`,d.status,k)}}return l}catch(h){throw h instanceof c?h:h instanceof Error?new c(`Error processing json: ${h.message}`):new c("An unknown error occurred while uploading json")}},pt=t=>new Promise(a=>{setTimeout(a,t)}),ft=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");const e=[];let o;t.customHeaders&&Object.keys(t.customHeaders).length>0?o={Authorization:`Bearer ${t.pinataJwt}`,...t.customHeaders}:o={Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/deleteFile"};let s="https://api.pinata.cloud/v3";t.endpointUrl&&(s=t.endpointUrl);for(const r of a)try{const i=await fetch(`${s}/files/${r}`,{method:"DELETE",headers:o});if(await pt(300),!i.ok){const n=await i.text();throw i.status===401?new y(`Authentication failed: ${n}`,i.status,n):new f(`HTTP error: ${n}`,i.status,n)}e.push({id:r,status:i.statusText})}catch(i){let n;i instanceof c?n=i.message:i instanceof Error?n=`Error deleting file ${r}: ${i.message}`:n=`An unknown error occurred while deleting file ${r}`,e.push({id:r,status:n})}return e},mt=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");const e=new URLSearchParams;if(a){const{name:r,group:i,cid:n,order:u,limit:w,mimeType:h,pageToken:m,cidPending:l,metadata:d,noGroup:k}=a;w&&e.append("limit",w.toString()),r&&e.append("name",r),i&&e.append("group",i),n&&e.append("cid",n),h&&e.append("mimeType",h),u&&e.append("order",u),m&&e.append("pageToken",m),l&&e.append("cidPending","true"),k&&e.append("group","null"),d&&typeof d=="object"&&Object.entries(d).forEach(([p,$])=>{e.append(`metadata[${p}]`,$.toString())})}let o="https://api.pinata.cloud/v3";t.endpointUrl&&(o=t.endpointUrl);const s=`${o}/files?${e.toString()}`;try{let r;t.customHeaders&&Object.keys(t.customHeaders).length>0?r={Authorization:`Bearer ${t.pinataJwt}`,...t.customHeaders}:r={Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/listFiles"};const i=await fetch(s,{method:"GET",headers:r});if(!i.ok){const w=await i.text();throw i.status===401||i.status===403?new y(`Authentication failed: ${w}`,i.status,w):new f(`HTTP error: ${w}`,i.status,w)}return(await i.json()).data}catch(r){throw r instanceof c?r:r instanceof Error?new c(`Error processing list files: ${r.message}`):new c("An unknown error occurred while listing files")}},yt=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");if(!a.name&&(!a.keyvalues||Object.keys(a.keyvalues).length===0))throw new g("At least one of 'name' or 'keyvalues' must be provided");const e={};a.name!==void 0&&(e.name=a.name),a.keyvalues&&Object.keys(a.keyvalues).length>0&&(e.keyvalues=a.keyvalues);const o=JSON.stringify(e);let s;t.customHeaders&&Object.keys(t.customHeaders).length>0?s={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:s={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/updateMetadata"};let r="https://api.pinata.cloud/v3";t.endpointUrl&&(r=t.endpointUrl);try{const i=await fetch(`${r}/files/${a.id}`,{method:"PUT",headers:s,body:o});if(!i.ok){const w=await i.text();throw i.status===401||i.status===403?new y(`Authentication failed: ${w}`,i.status,w):new f(`HTTP error: ${w}`,i.status,w)}return(await i.json()).data}catch(i){throw i instanceof c?i:i instanceof Error?new c(`Error processing updateFile: ${i.message}`):new c("An unknown error occurred while updating file")}},I=async(t,a,e)=>{if(!t)throw new g("Pinata configuration is missing");let o,s=`${t?.pinataGateway}/files/${a}`;const r=new URLSearchParams;e&&(e.width&&r.append("img-width",e.width.toString()),e.height&&r.append("img-height",e.height.toString()),e.dpr&&r.append("img-dpr",e.dpr.toString()),e.fit&&r.append("img-fit",e.fit),e.gravity&&r.append("img-gravity",e.gravity),e.quality&&r.append("img-quality",e.quality.toString()),e.format&&r.append("img-format",e.format),e.animation!==void 0&&r.append("img-anim",e.animation.toString()),e.sharpen&&r.append("img-sharpen",e.sharpen.toString()),e.onError===!0&&r.append("img-onerror","redirect"),e.metadata&&r.append("img-metadata",e.metadata));const i=r.toString();i&&(s+=`?${i}`);const n=Math.floor(new Date().getTime()/1e3),u=JSON.stringify({url:s,date:n,expires:30,method:"GET"});let w="https://api.pinata.cloud/v3";t.endpointUrl&&(w=t.endpointUrl);let h;t.customHeaders&&Object.keys(t.customHeaders).length>0?h={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:h={"Content-Type":"application/json",Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/getCid"};const l=await(await fetch(`${w}/files/sign`,{method:"POST",headers:h,body:u})).json();try{const d=await fetch(l.data);if(!d.ok){const $=await d.text();throw d.status===401||d.status===403?new y(`Authentication Failed: ${$}`,d.status,$):new f(`HTTP error: ${$}`,d.status,$)}const k=d.headers.get("content-type")?.split(";")[0]||null;return k?.includes("application/json")?o=await d.json():k?.includes("text/")?o=await d.text():o=await d.blob(),{data:o,contentType:k}}catch(d){throw d instanceof c?d:d instanceof Error?new c(`Error processing getCid: ${d.message}`):new c("An unknown error occurred while getting CID contents")}},gt=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");let e;t.customHeaders&&Object.keys(t.customHeaders).length>0?e={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:e={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/createKey"};const o=JSON.stringify(a);let s="https://api.pinata.cloud/v3";t.endpointUrl&&(s=t.endpointUrl);try{const r=await fetch(`${s}/pinata/keys`,{method:"POST",headers:e,body:o});if(!r.ok){const n=await r.text();throw r.status===401||r.status===403?new y(`Authentication failed: ${n}`,r.status,n):new f(`HTTP error: ${n}`,r.status,n)}return await r.json()}catch(r){throw r instanceof c?r:r instanceof Error?new c(`Error processing createKey: ${r.message}`):new c("An unknown error occurred while creating API key")}},x=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");let e;t.customHeaders&&Object.keys(t.customHeaders).length>0?e={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:e={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/listKeys"};const o=new URLSearchParams;if(a){const{offset:r,name:i,revoked:n,limitedUse:u,exhausted:w}=a;r&&o.append("offset",r.toString()),n!==void 0&&o.append("revoked",n.toString()),u!==void 0&&o.append("limitedUse",u.toString()),w!==void 0&&o.append("exhausted",w.toString()),i&&o.append("name",i)}let s="https://api.pinata.cloud/v3";t.endpointUrl&&(s=t.endpointUrl);try{const r=await fetch(`${s}/pinata/keys?${o.toString()}`,{method:"GET",headers:e});if(!r.ok){const n=await r.text();throw r.status===401||r.status===403?new y(`Authentication failed: ${n}`,r.status,n):new f(`HTTP error: ${n}`,r.status,n)}return(await r.json()).keys}catch(r){throw r instanceof c?r:r instanceof Error?new c(`Error processing listKeys: ${r.message}`):new c("An unknown error occurred while listing API keys")}},$t=t=>new Promise(a=>{setTimeout(a,t)}),kt=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");let e;t.customHeaders&&Object.keys(t.customHeaders).length>0?(e={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders},e={...t.customHeaders}):e={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/revokeKeys"};const o=[];let s="https://api.pinata.cloud/v3";t.endpointUrl&&(s=t.endpointUrl);for(const r of a)try{const i=await fetch(`${s}/pinata/keys/${r}`,{method:"PUT",headers:e});if(await $t(300),!i.ok){const u=await i.text();throw i.status===401||i.status===403?new y(`Authentication failed: ${u}`,i.status,u):new f(`HTTP error: ${u}`,i.status,u)}const n=await i.json();o.push({key:r,status:n})}catch(i){let n;i instanceof c?n=i.message:i instanceof Error?n=`Error revoking key ${r}: ${i.message}`:n=`An unknown error occurred while revoking key ${r}`,o.push({key:r,status:n})}return o},Tt=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");const e=JSON.stringify({name:a.name,is_public:a.isPublic});let o;t.customHeaders&&Object.keys(t.customHeaders).length>0?o={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:o={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/createGroup"};let s="https://api.pinata.cloud/v3";t.endpointUrl&&(s=t.endpointUrl);try{const r=await fetch(`${s}/files/groups`,{method:"POST",headers:o,body:e});if(!r.ok){const u=await r.text();throw r.status===401||r.status===403?new y(`Authentication failed: ${u}`,r.status,u):new f(`HTTP error: ${u}`,r.status,u)}return(await r.json()).data}catch(r){throw r instanceof c?r:r instanceof Error?new c(`Error processing createGroup: ${r.message}`):new c("An unknown error occurred while creating a group")}},vt=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");let e;t.customHeaders&&Object.keys(t.customHeaders).length>0?e={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:e={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/listGroups"};const o=new URLSearchParams;if(a){const{pageToken:r,name:i,limit:n,isPublic:u}=a;r&&o.append("pageToken",r.toString()),u&&o.append("isPublic",u.toString()),i&&o.append("name",i),n!==void 0&&o.append("limit",n.toString())}let s="https://api.pinata.cloud/v3";t.endpointUrl&&(s=t.endpointUrl);try{const r=await fetch(`${s}/files/groups?${o.toString()}`,{method:"GET",headers:e});if(!r.ok){const u=await r.text();throw r.status===401||r.status===403?new y(`Authentication failed: ${u}`,r.status,u):new f(`HTTP error: ${u}`,r.status,u)}return(await r.json()).data}catch(r){throw r instanceof c?r:r instanceof Error?new c(`Error processing listGroups: ${r.message}`):new c("An unknown error occurred while listing groups")}},St=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");let e;t.customHeaders&&Object.keys(t.customHeaders).length>0?e={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:e={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/getGroup"};let o="https://api.pinata.cloud/v3";t.endpointUrl&&(o=t.endpointUrl);try{const s=await fetch(`${o}/files/groups/${a.groupId}`,{method:"GET",headers:e});if(!s.ok){const n=await s.text();throw s.status===401||s.status===403?new y(`Authentication failed: ${n}`,s.status,n):new f(`HTTP error: ${n}`,s.status,n)}return(await s.json()).data}catch(s){throw s instanceof c?s:s instanceof Error?new c(`Error processing getGroup: ${s.message}`):new c("An unknown error occurred while getting info for a group")}},At=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");const e=i=>new Promise(n=>{setTimeout(n,i)}),o=[];let s;t.customHeaders&&Object.keys(t.customHeaders).length>0?s={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:s={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/addToGroup"};let r="https://api.pinata.cloud/v3";t.endpointUrl&&(r=t.endpointUrl);for(const i of a.files)try{const n=await fetch(`${r}/files/groups/${a.groupId}/ids/${i}`,{method:"PUT",headers:s});if(await e(300),!n.ok){const u=await n.text();throw n.status===401?new y(`Authentication failed: ${u}`,n.status,u):new f(`HTTP error: ${u}`,n.status,u)}o.push({id:i,status:n.statusText})}catch(n){let u;n instanceof c?u=n.message:n instanceof Error?u=`Error adding file ${i} to group: ${n.message}`:u=`An unknown error occurred while adding file ${i} to group`,o.push({id:i,status:u})}return o},bt=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");const e=JSON.stringify({name:a.name,is_public:a.isPublic});let o;t.customHeaders&&Object.keys(t.customHeaders).length>0?o={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:o={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/updateGroup"};let s="https://api.pinata.cloud/v3";t.endpointUrl&&(s=t.endpointUrl);try{const r=await fetch(`${s}/files/groups/${a.groupId}`,{method:"PUT",headers:o,body:e});if(!r.ok){const u=await r.text();throw r.status===401||r.status===403?new y(`Authentication failed: ${u}`,r.status,u):new f(`HTTP error: ${u}`,r.status,u)}return(await r.json()).data}catch(r){throw r instanceof c?r:r instanceof Error?new c(`Error processing updateGroup: ${r.message}`):new c("An unknown error occurred while updating group")}},Pt=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");const e=i=>new Promise(n=>{setTimeout(n,i)}),o=[];let s;t.customHeaders&&Object.keys(t.customHeaders).length>0?s={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:s={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/addToGroup"};let r="https://api.pinata.cloud/v3";t.endpointUrl&&(r=t.endpointUrl);for(const i of a.files)try{const n=await fetch(`${r}/files/groups/${a.groupId}/ids/${i}`,{method:"DELETE",headers:s});if(await e(300),!n.ok){const u=await n.text();throw n.status===401?new y(`Authentication failed: ${u}`,n.status,u):new f(`HTTP error: ${u}`,n.status,u)}o.push({id:i,status:n.statusText})}catch(n){let u;n instanceof c?u=n.message:n instanceof Error?u=`Error adding file ${i} to group: ${n.message}`:u=`An unknown error occurred while adding file ${i} to group`,o.push({id:i,status:u})}return o},Ht=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");let e;t.customHeaders&&Object.keys(t.customHeaders).length>0?e={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:e={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/deleteGroup"};let o="https://api.pinata.cloud/v3";t.endpointUrl&&(o=t.endpointUrl);try{const s=await fetch(`${o}/files/groups/${a.groupId}`,{method:"DELETE",headers:e});if(!s.ok){const i=await s.text();throw s.status===401||s.status===403?new y(`Authentication failed: ${i}`,s.status,i):new f(`HTTP error: ${i}`,s.status,i)}return s.statusText}catch(s){throw s instanceof c?s:s instanceof Error?new c(`Error processing deleteGroup: ${s.message}`):new c("An unknown error occurred while deleting a group")}},jt=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");const e=new URLSearchParams;if(a){const{cid:r,gateway_domain:i,start_date:n,end_date:u,file_name:w,user_agent:h,country:m,region:l,referer:d,limit:k,sort_order:p,sort_by:$,attribute:v}=a,T=i||t.pinataGateway;if(T){const S=T.replace(/^https?:\/\//,"");e.append("gateway_domain",S)}r&&e.append("cid",r),n&&e.append("start_date",n),u&&e.append("end_date",u),w&&e.append("file_name",w),h&&e.append("user_agent",h.toString()),m&&e.append("country",m.toString()),l&&e.append("region",l),d&&e.append("referer",d.toString()),k&&e.append("limit",k.toString()),p&&e.append("sort_order",p),$&&e.append("sort_by",$),v&&e.append("by",v)}let o="https://api.pinata.cloud/v3";t.endpointUrl&&(o=t.endpointUrl);const s=`${o}/ipfs/gateway_analytics_top?${e.toString()}`;try{let r;t.customHeaders&&Object.keys(t.customHeaders).length>0?r={...t.customHeaders}:r={Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/analyticsTopUsage"};const i=await fetch(s,{method:"GET",headers:r});if(!i.ok){const u=await i.text();throw i.status===401||i.status===403?new y(`Authentication failed: ${u}`,i.status,u):new f(`HTTP error: ${u}`,i.status,u)}return await i.json()}catch(r){throw r instanceof c?r:r instanceof Error?new c(`Error processing anaytics usage: ${r.message}`):new c("An unknown error occurred while fetching gateway usage")}},zt=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");const e=new URLSearchParams;if(a){const{cid:r,gateway_domain:i,start_date:n,end_date:u,file_name:w,user_agent:h,country:m,region:l,referer:d,limit:k,sort_order:p,date_interval:$,sort_by:v}=a;r&&e.append("cid",r),i&&e.append("gateway_domain",i),n&&e.append("start_date",n),u&&e.append("end_date",u),w&&e.append("file_name",w),h&&e.append("user_agent",h.toString()),m&&e.append("country",m.toString()),l&&e.append("region",l),d&&e.append("referer",d.toString()),k&&e.append("limit",k.toString()),p&&e.append("sort_order",p),v&&e.append("sort_by",v),$&&e.append("by",$)}let o="https://api.pinata.cloud/v3";t.endpointUrl&&(o=t.endpointUrl);const s=`${o}/ipfs/gateway_analytics_time_series?${e.toString()}`;try{let r;t.customHeaders&&Object.keys(t.customHeaders).length>0?r={...t.customHeaders}:r={Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/analyticsDateInterval"};const i=await fetch(s,{method:"GET",headers:r});if(!i.ok){const w=await i.text();throw i.status===401||i.status===403?new y(`Authentication failed: ${w}`,i.status,w):new f(`HTTP error: ${w}`,i.status,w)}return(await i.json()).data}catch(r){throw r instanceof c?r:r instanceof Error?new c(`Error processing anaytics usage: ${r.message}`):new c("An unknown error occurred while fetching gateway usage")}},qt=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");const e=JSON.stringify({swap_cid:a.swapCid});let o;t.customHeaders&&Object.keys(t.customHeaders).length>0?o={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:o={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/swapCid"};let s="https://api.pinata.cloud/v3";t.endpointUrl&&(s=t.endpointUrl);try{const r=await fetch(`${s}/files/swap/${a.cid}`,{method:"PUT",headers:o,body:e});if(!r.ok){const u=await r.text();throw r.status===401||r.status===403?new y(`Authentication failed: ${u}`,r.status,u):r.status===403?new c("Unauthorized CID Swap",r.status,u):r.status===404?new c("CID not pinned to account",r.status,u):new f(`HTTP error: ${u}`,r.status,u)}return(await r.json()).data}catch(r){throw r instanceof c?r:r instanceof Error?new c(`Error processing CID Swap: ${r.message}`):new c("An unknown error occurred while swapping CID")}},Et=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");let e;t.customHeaders&&Object.keys(t.customHeaders).length>0?e={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:e={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/swapHistory"};let o="https://api.pinata.cloud/v3";t.endpointUrl&&(o=t.endpointUrl);try{const s=await fetch(`${o}/files/swap/${a.cid}?domain=${a.domain}`,{method:"GET",headers:e});if(!s.ok){const n=await s.text();throw s.status===401||s.status===403?new y(`Authentication failed: ${n}`,s.status,n):s.status===404?new c("CID does not have history",s.status,n):new f(`HTTP error: ${n}`,s.status,n)}return(await s.json()).data}catch(s){throw s instanceof c?s:s instanceof Error?new c(`Error fetching swap history: ${s.message}`):new c("An unknown error occurred while fetching swap history")}},Ut=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");let e;t.customHeaders&&Object.keys(t.customHeaders).length>0?e={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:e={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/deleteSwap"};let o="https://api.pinata.cloud/v3";t.endpointUrl&&(o=t.endpointUrl);try{const s=await fetch(`${o}/files/swap/${a}`,{method:"DELETE",headers:e});if(!s.ok){const r=await s.text();throw s.status===401||s.status===403?new y(`Authentication failed: ${r}`,s.status,r):s.status===403?new c("Unauthorized CID Swap Deletion",s.status,r):s.status===404?new c("CID not pinned to account",s.status,r):new f(`HTTP error: ${r}`,s.status,r)}return s.statusText}catch(s){throw s instanceof c?s:s instanceof Error?new c(`Error processing deleteSwap: ${s.message}`):new c("An unknown error occurred while deleting swap")}},Dt=async(t,a,e)=>{if(!t)throw new g("Pinata configuration is missing");let o;a?.gateway?o=a.gateway.startsWith("https://")?a.gateway:`https://${a.gateway}`:o=t.pinataGateway;let s=`${o}/files/${a.cid}`;const r=new URLSearchParams;e&&(e.width&&r.append("img-width",e.width.toString()),e.height&&r.append("img-height",e.height.toString()),e.dpr&&r.append("img-dpr",e.dpr.toString()),e.fit&&r.append("img-fit",e.fit),e.gravity&&r.append("img-gravity",e.gravity),e.quality&&r.append("img-quality",e.quality.toString()),e.format&&r.append("img-format",e.format),e.animation!==void 0&&r.append("img-anim",e.animation.toString()),e.sharpen&&r.append("img-sharpen",e.sharpen.toString()),e.onError===!0&&r.append("img-onerror","redirect"),e.metadata&&r.append("img-metadata",e.metadata));const i=r.toString();i&&(s+=`?${i}`);const n=a?.date||Math.floor(new Date().getTime()/1e3),u=JSON.stringify({url:s,date:n,expires:a.expires,method:"GET"});let w="https://api.pinata.cloud/v3";t.endpointUrl&&(w=t.endpointUrl);let h;t.customHeaders&&Object.keys(t.customHeaders).length>0?h={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:h={"Content-Type":"application/json",Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/createSignURL"};try{const m=await fetch(`${w}/files/sign`,{method:"POST",headers:h,body:u});if(!m.ok){const d=await m.text();throw m.status===401||m.status===403?new y(`Authentication Failed: ${d}`,m.status,d):new f(`HTTP error: ${d}`,m.status,d)}return(await m.json()).data}catch(m){throw m instanceof c?m:m instanceof Error?new c(`Error processing createSignedURL: ${m.message}`):new c("An unknown error occurred while getting signed url")}},Jt=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");let e;t.customHeaders&&Object.keys(t.customHeaders).length>0?e={Authorization:`Bearer ${t.pinataJwt}`,...t.customHeaders}:e={Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/vectorizeFile"};let o="https://uploads.pinata.cloud/v3";t.uploadUrl&&(o=t.uploadUrl);try{const s=await fetch(`${o}/vectorize/files/${a}`,{method:"POST",headers:e});if(!s.ok){const i=await s.text();throw s.status===401||s.status===403?new y(`Authentication failed: ${i}`,s.status,i):new f(`HTTP error: ${i}`,s.status,i)}return await s.json()}catch(s){throw s instanceof c?s:s instanceof Error?new c(`Error processing vectorize file: ${s.message}`):new c("An unknown error occurred while vectorizing file")}},_t=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");let e;t.customHeaders&&Object.keys(t.customHeaders).length>0?e={Authorization:`Bearer ${t.pinataJwt}`,...t.customHeaders}:e={Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/vectorQuery"};let o="https://uploads.pinata.cloud/v3";t.uploadUrl&&(o=t.uploadUrl);const s=JSON.stringify({text:a.query});try{const r=await fetch(`${o}/vectorize/groups/${a.groupId}/query`,{method:"POST",headers:e,body:s});if(!r.ok){const u=await r.text();throw r.status===401||r.status===403?new y(`Authentication failed: ${u}`,r.status,u):new f(`HTTP error: ${u}`,r.status,u)}const n=(await r.json()).data;if(a.returnFile){if(n.matches.length===0)throw new c("No files returned in query to fetch");const u=n.matches[0].cid;return await I(t,u,void 0)}return n}catch(r){throw r instanceof c?r:r instanceof Error?new c(`Error processing vectorize file: ${r.message}`):new c("An unknown error occurred while vectorizing file")}},Ct=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");let e;t.customHeaders&&Object.keys(t.customHeaders).length>0?e={Authorization:`Bearer ${t.pinataJwt}`,...t.customHeaders}:e={Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/vectorizeFile"};let o="https://uploads.pinata.cloud/v3";t.uploadUrl&&(o=t.uploadUrl);try{const s=await fetch(`${o}/vectorize/files/${a}`,{method:"DELETE",headers:e});if(!s.ok){const i=await s.text();throw s.status===401||s.status===403?new y(`Authentication failed: ${i}`,s.status,i):new f(`HTTP error: ${i}`,s.status,i)}return await s.json()}catch(s){throw s instanceof c?s:s instanceof Error?new c(`Error processing vectorize file: ${s.message}`):new c("An unknown error occurred while vectorizing file")}},xt=async(t,a)=>{if(!t)throw new g("Pinata configuration is missing");const o={date:a?.date||Math.floor(new Date().getTime()/1e3),expires:a.expires};a.groupId&&(o.group_id=a.groupId),a.name&&(o.filename=a.name),a.keyvalues&&(o.keyvalues=a.keyvalues);let s="https://uploads.pinata.cloud/v3";t.uploadUrl&&(s=t.uploadUrl);let r;t.customHeaders&&Object.keys(t.customHeaders).length>0?r={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:r={"Content-Type":"application/json",Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/createSignURL"};try{const i=await fetch(`${s}/files/sign`,{method:"POST",headers:r,body:JSON.stringify(o)});if(!i.ok){const u=await i.text();throw i.status===401||i.status===403?new y(`Authentication Failed: ${u}`,i.status,u):new f(`HTTP error: ${u}`,i.status,u)}return(await i.json()).data}catch(i){throw i instanceof c?i:i instanceof Error?new c(`Error processing createSignedURL: ${i.message}`):new c("An unknown error occurred while getting signed url")}},b=t=>{let a=t?.pinataGateway;return t&&a&&(a&&!a.startsWith("https://")&&(a=`https://${a}`),t.pinataGateway=a),t},It=class{constructor(t){this.config=b(t),this.files=new Bt(this.config),this.upload=new Ot(this.config),this.gateways=new Nt(this.config),this.keys=new Zt(this.config),this.groups=new Mt(this.config),this.analytics=new Vt(this.config)}setNewHeaders(t){this.config||(this.config={pinataJwt:"",customHeaders:{}}),this.config.customHeaders={...this.config.customHeaders,...t},this.files.updateConfig(this.config),this.upload.updateConfig(this.config),this.gateways.updateConfig(this.config),this.keys.updateConfig(this.config),this.groups.updateConfig(this.config),this.analytics.updateConfig(this.config)}setNewJwt(t){this.config||(this.config={pinataJwt:""}),this.config.pinataJwt=t,this.files.updateConfig(this.config),this.upload.updateConfig(this.config),this.gateways.updateConfig(this.config),this.keys.updateConfig(this.config),this.groups.updateConfig(this.config),this.analytics.updateConfig(this.config)}testAuthentication(){return ut(this.config)}},Bt=class{constructor(t){this.config=b(t)}updateConfig(t){this.config=t}list(){return new Gt(this.config)}delete(t){return ft(this.config,t)}update(t){return yt(this.config,t)}addSwap(t){return qt(this.config,t)}getSwapHistory(t){return Et(this.config,t)}deleteSwap(t){return Ut(this.config,t)}vectorize(t){return Jt(this.config,t)}queryVectors(t){return _t(this.config,t)}deleteVectors(t){return Ct(this.config,t)}},z=class{constructor(t,a,...e){this.config=t,this.uploadFunction=a,this.args=e}addMetadata(t){return this.metadata=t,this}key(t){return this.keys=t,this}vectorize(){return this.vector=!0,this}url(t){return this.uploadUrl=t,this}group(t){return this.groupId=t,this}then(t,a){const e=this.args[this.args.length-1]||{};return this.metadata&&(e.metadata=this.metadata),this.keys&&(e.keys=this.keys),this.groupId&&(e.groupId=this.groupId),this.vector&&(e.vectorize=this.vector),this.uploadUrl&&(e.url=this.uploadUrl),this.args[this.args.length-1]=e,this.uploadFunction(this.config,...this.args).then(t,a)}},Ot=class{constructor(t){this.config=b(t)}updateConfig(t){this.config=t}file(t,a){return new z(this.config,ht,t,a)}base64(t,a){return new z(this.config,dt,t,a)}url(t,a){return new z(this.config,lt,t,a)}json(t,a){return new z(this.config,wt,t,a)}createSignedURL(t){return xt(this.config,t)}},Gt=class{constructor(t){this.query={},this.config=t}name(t){return this.query.name=t,this}group(t){return this.query.group=t,this}cid(t){return this.query.cid=t,this}mimeType(t){return this.query.mimeType=t,this}order(t){return this.query.order=t,this}limit(t){return this.query.limit=t,this}cidPending(t){return this.query.cidPending=t,this}metadata(t){return this.query.metadata=t,this}noGroup(t){return this.query.noGroup=t,this}pageToken(t){return this.query.pageToken=t,this}then(t){return this.fetchPage().then(t)}async fetchPage(){this.currentPageToken&&(this.query.pageToken=this.currentPageToken);const t=await mt(this.config,this.query);return this.currentPageToken=t.next_page_token,t}async*[Symbol.asyncIterator](){for(;;){const t=await this.fetchPage();for(const a of t.files)yield a;if(!this.currentPageToken)break}}async all(){const t=[];for await(const a of this)t.push(a);return t}},Nt=class{constructor(t){this.config=b(t)}updateConfig(t){this.config=t}get(t){return new Ft(this.config,t)}createSignedURL(t){return new Rt(this.config,t)}},Ft=class{constructor(t,a){this.options={},this.config=t,this.cid=a}optimizeImage(t){return this.options={...this.options,...t},this}then(t){return I(this.config,this.cid,this.options).then(t)}},Rt=class{constructor(t,a){this.imgOpts={},this.config=t,this.urlOpts=a}optimizeImage(t){return this.imgOpts={...this.imgOpts,...t},this}then(t){return Dt(this.config,this.urlOpts,this.imgOpts).then(t)}},Zt=class{constructor(t){this.config=b(t)}updateConfig(t){this.config=t}create(t){return gt(this.config,t)}list(){return new Lt(this.config)}revoke(t){return kt(this.config,t)}},Lt=class{constructor(t){this.query={},this.config=t}offset(t){return this.query.offset=t,this}revoked(t){return this.query.revoked=t,this}limitedUse(t){return this.query.limitedUse=t,this}exhausted(t){return this.query.exhausted=t,this}name(t){return this.query.name=t,this}then(t){return x(this.config,this.query).then(t)}async*[Symbol.asyncIterator](){let t=!0,a=0;for(;t;){this.query.offset=a;const e=await x(this.config,this.query);for(const o of e)yield o;e.length===0?t=!1:a+=e.length}}async all(){const t=[];for await(const a of this)t.push(a);return t}},Mt=class{constructor(t){this.config=b(t)}updateConfig(t){this.config=t}create(t){return Tt(this.config,t)}list(){return new Wt(this.config)}get(t){return St(this.config,t)}addFiles(t){return At(this.config,t)}removeFiles(t){return Pt(this.config,t)}update(t){return bt(this.config,t)}delete(t){return Ht(this.config,t)}},Wt=class{constructor(t){this.query={},this.config=t}name(t){return this.query.name=t,this}limit(t){return this.query.limit=t,this}isPublic(t){return this.query.isPublic=t,this}pageToken(t){return this.query.pageToken=t,this}then(t){return this.fetchPage().then(a=>(this.nextPageToken=a.next_page_token,a)).then(t)}async fetchPage(){return this.nextPageToken&&(this.query.pageToken=this.nextPageToken),vt(this.config,this.query)}async*[Symbol.asyncIterator](){for(;;){const t=await this.fetchPage();for(const a of t.groups)yield a;if(!t.next_page_token)break;this.nextPageToken=t.next_page_token}}async all(){const t=[];for await(const a of this)t.push(a);return t}},Vt=class{constructor(t){this.config=b(t),this.requests=new Yt(this.config),this.bandwidth=new Qt(this.config)}updateConfig(t){this.config=t,this.requests.updateConfig(t),this.bandwidth.updateConfig(t)}summary(t){return new te(this.config,t.domain,t.start,t.end,t.interval)}},Xt=t=>{const a=new Date,e=new Date;return e.setDate(e.getDate()-t),{start:e.toISOString().split("T")[0],end:a.toISOString().split("T")[0]}},B=class{constructor(t,a,e,o){this.config=t,this.query={gateway_domain:a,start_date:e,end_date:o,sort_by:"requests",attribute:"cid"}}cid(t){return this.query.attribute="cid",t&&(this.query.cid=t),this}fileName(t){return this.query.attribute="file_name",t&&(this.query.file_name=t),this}userAgent(t){return this.query.attribute="user_agent",t&&(this.query.user_agent=t),this}country(t){return this.query.attribute="country",t&&(this.query.country=t),this}region(t){return this.query.attribute="region",t&&(this.query.region=t),this}referer(t){return this.query.attribute="referer",t&&(this.query.referer=t),this}limit(t){return this.query.limit=t,this}sort(t){return this.query.sort_order=t,this}days(t){const{start:a,end:e}=Xt(t);return this.query.start_date=a,this.query.end_date=e,this}then(t){return jt(this.config,this.query).then(t)}},Yt=class extends B{constructor(t){super(t,"","",""),this.query.sort_by="requests"}updateConfig(t){this.config=t}customDates(t,a){return t&&(this.query.start_date=t),a&&(this.query.end_date=a),this}from(t){return this.query.gateway_domain=t,this}},Qt=class extends B{constructor(t){super(t,"","",""),this.query.sort_by="bandwidth"}updateConfig(t){this.config=t}customDates(t,a){return t&&(this.query.start_date=t),a&&(this.query.end_date=a),this}from(t){return this.query.gateway_domain=t,this}},Kt=class{constructor(t,a){this.requestCount=0,this.lastRequestTime=0,this.MAX_REQUESTS_PER_MINUTE=30,this.MINUTE_IN_MS=6e4,this.config=t,this.query=a}cid(t){return this.query.cid=t,this}fileName(t){return this.query.file_name=t,this}userAgent(t){return this.query.user_agent=t,this}country(t){return this.query.country=t,this}region(t){return this.query.region=t,this}referer(t){return this.query.referer=t,this}limit(t){return this.query.limit=t,this}sort(t){return this.query.sort_order=t,this}async getAnalytics(){throw new Error("getAnalytics method must be implemented in derived class")}then(t){return this.getAnalytics().then(t)}},te=class extends Kt{constructor(t,a,e,o,s){super(t,{gateway_domain:a,start_date:e,end_date:o,date_interval:s})}sortBy(t){return this.query.sort_by=t,this}async getAnalytics(){return zt(this.config,this.query)}async all(){return this.getAnalytics()}};const ee=new It({pinataJwt:"eeyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJhNWQxZGJiMy05ODhhLTQ5NGItYmI4ZS1jZmZhYzU1NWI2ZWIiLCJlbWFpbCI6ImJhYm9vbmZ1YkBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwicGluX3BvbGljeSI6eyJyZWdpb25zIjpbeyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJGUkExIn0seyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJOWUMxIn1dLCJ2ZXJzaW9uIjoxfSwibWZhX2VuYWJsZWQiOmZhbHNlLCJzdGF0dXMiOiJBQ1RJVkUifSwiYXV0aGVudGljYXRpb25UeXBlIjoic2NvcGVkS2V5Iiwic2NvcGVkS2V5S2V5IjoiNWMyNDVjMWEyOWVkMzQyYTczZTciLCJzY29wZWRLZXlTZWNyZXQiOiJjNDBiZjM2NDRjYWRjN2M2NDRlY2RlZjZmNzIyNzRmMGU4Njg3MDMwZmJhNzA5ZGY1YmQ1N2ExZGU4N2EzZGI3IiwiZXhwIjoxNzY0NzA5OTgxfQ.xW_dzuw8Zm8PjXKZtE0BNlhH37IOXffMzfyoxUQxFOY",pinataGateway:void 0});async function re(t){try{const a=await ee.gateways.get(t),{data:e,contentType:o}=a||{};if(o==="application/json")return JSON.parse(e);throw new Error("Content is not JSON")}catch(a){throw console.error("Error fetching JSON from IPFS:",a),a}}var ae=O('<main class="container mx-auto p-4"><!> <!> <!></main>');function we(t,a){V(a,!0);const e=et(),o=()=>rt(D,"$cardStore",e);j(P({}));let s=j(!1),r=j(""),i=j(!1);st(D,p=>p),X(async()=>{if("NDEFReader"in window){A(s,!0);const p=new NDEFReader;try{await p.scan(),p.onreading=$=>{const v=$.message;for(const T of v.records)if(T.recordType==="text"){const S=new TextDecoder(T.encoding);A(r,P(S.decode(T.data)))}}}catch($){console.error("NFC reading error:",$)}}try{const p=await re("bafybeigkkz45vxlvtqjzufjvgm6t3t7bcerreeiccjcwynp2bnmt4utvne");p&&(D.set(p),A(i,!0))}catch(p){console.error("Failed to fetch wallet configuration from IPFS:",p),A(i,!1)}}),E(()=>{A(s,P(n()))}),E(()=>{A(r,P(u()))}),E(()=>{A(i,P(w()))});function n(){return!0}function u(){return"0x1234567890abcdef"}function w(){return!0}var h=ae(),m=Q(h);it(m,()=>a.children);var l=C(m,2);{var d=p=>{var $=G(),v=K($);{var T=S=>{at(S,{})};U(v,S=>{S(T)})}_(p,$)};U(l,p=>{o().data&&p(d)})}var k=C(l,2);U(k,p=>{}),tt(h),_(t,h),Y()}export{we as component,le as universal};
